{"dependencies":[{"name":"warning","loc":{"line":5,"column":20}},{"name":"invariant","loc":{"line":6,"column":22}},{"name":"./LocationUtils","loc":{"line":7,"column":31}},{"name":"./PathUtils","loc":{"line":8,"column":92}},{"name":"./createTransitionManager","loc":{"line":9,"column":36}},{"name":"./DOMUtils","loc":{"line":10,"column":156}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},e=require(\"warning\"),n=l(e),o=require(\"invariant\"),i=l(o),a=require(\"./LocationUtils\"),r=require(\"./PathUtils\"),s=require(\"./createTransitionManager\"),c=l(s),u=require(\"./DOMUtils\");function l(t){return t&&t.__esModule?t:{default:t}}var f=\"function\"==typeof Symbol&&\"symbol\"===t(Symbol.iterator)?function(e){return void 0===e?\"undefined\":t(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":t(e)},d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},h=\"popstate\",p=\"hashchange\",y=function(){try{return window.history.state||{}}catch(t){return{}}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(u.canUseDOM,\"Browser history needs a DOM\");var e=window.history,o=(0,u.supportsHistory)(),s=!(0,u.supportsPopStateOnHashChange)(),l=t.forceRefresh,v=void 0!==l&&l,m=t.getUserConfirmation,w=void 0===m?u.getConfirmation:m,g=t.keyLength,b=void 0===g?6:g,S=t.basename?(0,r.stripTrailingSlash)((0,r.addLeadingSlash)(t.basename)):\"\",k=function(t){var e=t||{},o=e.key,i=e.state,s=window.location,c=s.pathname+s.search+s.hash;return(0,n.default)(!S||(0,r.hasBasename)(c,S),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path \"'+c+'\" to begin with \"'+S+'\".'),S&&(c=(0,r.stripBasename)(c,S)),(0,a.createLocation)(c,i,o)},L=function(){return Math.random().toString(36).substr(2,b)},P=(0,c.default)(),O=function(t){d(D,t),D.length=e.length,P.notifyListeners(D.location,D.action)},E=function(t){(0,u.isExtraneousPopstateEvent)(t)||x(k(t.state))},T=function(){x(k(y()))},M=!1,x=function(t){if(M)M=!1,O();else{P.confirmTransitionTo(t,\"POP\",w,function(e){e?O({action:\"POP\",location:t}):U(t)})}},U=function(t){var e=D.location,n=H.indexOf(e.key);-1===n&&(n=0);var o=H.indexOf(t.key);-1===o&&(o=0);var i=n-o;i&&(M=!0,B(i))},j=k(y()),H=[j.key],q=function(t){return S+(0,r.createPath)(t)},B=function(t){e.go(t)},C=0,R=function(t){1===(C+=t)?((0,u.addEventListener)(window,h,E),s&&(0,u.addEventListener)(window,p,T)):0===C&&((0,u.removeEventListener)(window,h,E),s&&(0,u.removeEventListener)(window,p,T))},_=!1,D={length:e.length,action:\"POP\",location:j,createHref:q,push:function(t,i){(0,n.default)(!(\"object\"===(void 0===t?\"undefined\":f(t))&&void 0!==t.state&&void 0!==i),\"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored\");var r=(0,a.createLocation)(t,i,L(),D.location);P.confirmTransitionTo(r,\"PUSH\",w,function(t){if(t){var i=q(r),a=r.key,s=r.state;if(o)if(e.pushState({key:a,state:s},null,i),v)window.location.href=i;else{var c=H.indexOf(D.location.key),u=H.slice(0,-1===c?0:c+1);u.push(r.key),H=u,O({action:\"PUSH\",location:r})}else(0,n.default)(void 0===s,\"Browser history cannot push state in browsers that do not support HTML5 history\"),window.location.href=i}})},replace:function(t,i){(0,n.default)(!(\"object\"===(void 0===t?\"undefined\":f(t))&&void 0!==t.state&&void 0!==i),\"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored\");var r=(0,a.createLocation)(t,i,L(),D.location);P.confirmTransitionTo(r,\"REPLACE\",w,function(t){if(t){var i=q(r),a=r.key,s=r.state;if(o)if(e.replaceState({key:a,state:s},null,i),v)window.location.replace(i);else{var c=H.indexOf(D.location.key);-1!==c&&(H[c]=r.key),O({action:\"REPLACE\",location:r})}else(0,n.default)(void 0===s,\"Browser history cannot replace state in browsers that do not support HTML5 history\"),window.location.replace(i)}})},go:B,goBack:function(){return B(-1)},goForward:function(){return B(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=P.setPrompt(t);return _||(R(1),_=!0),function(){return _&&(_=!1,R(-1)),e()}},listen:function(t){var e=P.appendListener(t);return R(1),function(){R(-1),e()}}};return D};exports.default=v;"},"hash":"f98f43a919262548b38b76820e2c97bc"}